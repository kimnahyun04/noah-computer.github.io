<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Noah Ending</title>
<link href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2107@1.0/DungGeunMo.css" rel="stylesheet">

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background: black;
  font-family: 'DungGeunMo';
}

.game-wrap {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: calc(100vh * (16 / 9));
  height: 100vh;
  overflow: hidden;
}

.scene {
  position: absolute;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  opacity: 0;
  transition: opacity 1s ease;
}
.visible { opacity: 1; }

/* ================= ìë§‰ ================= */
#subtitle {
  position: fixed;
  bottom: 5vh;
  left: 50%;
  transform: translateX(-50%);
  padding: 1vh 2vw;
  background: rgba(0,0,0,0.6);
  border: 2px solid white;
  border-radius: 10px;
  color: white;
  font-size: 2.2vh;
  display: none;
  z-index: 9999999;
}
.next-indicator {
  margin-left: 1vw;
  color: #ffcc00;
  animation: blink 1s infinite alternate;
}
@keyframes blink { from{opacity:.3;} to{opacity:1;} }

/* ================= ê²€ì • í™”ë©´ ================= */
#blackScreen {
  position: fixed;
  inset: 0;
  background: black;
  opacity: 0;
  transition: opacity 1s ease;
  z-index: 5000;
  display: none;
}

/* ================= ì¢…ë£Œ ì¤‘ í™”ë©´ ================= */
#shutdownScreen {
  position: fixed;
  inset: 0;
  background: #0065b8;
  opacity: 0;
  transition: opacity 1s ease;
  display: none;
  z-index: 6000;
  color: white;
}
.shutdown-inner {
  position: absolute;
  inset: 6%;
  background: #3b90ff; /* ğŸ”µ ì—°í•œ íŒŒë‘ */
  display: flex;
  align-items: center;
  justify-content: center;
 
}


.shutdown-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  font-size: 2.5vh;
}

.spinner {
  width: 48px;
  height: 48px;
  border: 4px solid rgba(255,255,255,0.3);
  border-top: 4px solid white;
  border-radius: 50%;
  margin: 0 auto 2vh;
  animation: spin 1s linear infinite;
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ================= ì˜ìƒ ================= */
#endingVideo {
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 1s ease;
  object-fit: cover;
  z-index: 7000;
}

/* ================= ì•„ì´ì½˜ ================= */
.icon {
  position: absolute;
  width: 7%;
  image-rendering: pixelated;
  filter: drop-shadow(-0.4vw -0.4vh 0 #131313);
  z-index: 5;
}
.internet { top: 7%; left: 6%; }
.mail { top: 20%; left: 6%; }
.folder { top: 33%; left: 6%; }
.trash { top: 46%; left: 6%; }
.music-icon { top: 73%; left: 6%; }
</style>
</head>

<body>

<div class="game-wrap">
  <img class="icon internet" src="./ì¸í„°ë„· ë¡œê³ .png">
  <img class="icon mail" src="./ë©”ì„¸ì§€ ì•„ì´ì½˜.png">
  <img class="icon folder" src="./í´ë” ì•„ì´ì½˜.png">
  <img class="icon trash" src="./ì“°ë ˆê¸°í†µ.png">
  <img class="icon music-icon" src="./ìŒì•…ì•„ì´ì½˜.png">

  <div id="scene1" class="scene visible" style="background-image:url('./ë…¸ì•„ ë§ˆì§€ë§‰.gif');"></div>
  <div id="scene2" class="scene" style="background-image:url('./ë…¸ì•„ ë§ˆì§€ë§‰ 2.gif');"></div>
</div>

<div id="blackScreen"></div>

<div id="shutdownScreen">
  <div class="shutdown-inner">
    <div class="shutdown-center">
      <div class="spinner"></div>
      ì¢…ë£Œ ì¤‘
    </div>
  </div>
</div>


<video id="endingVideo" src="./noah last video 1.mp4" muted playsinline></video>

<img id="windowsBoot" src="./ìœˆë„ìš° ì‹œì‘.gif"
     style="position:fixed;inset:0;width:100vw;height:100vh;object-fit:cover;display:none;z-index:8000;">
<audio id="windowsSound" src="./ìœˆë„ìš° ì¢…ë£Œ.mp3"></audio>
<audio id="shutdownSound" src="./ìœˆë„ìš° ì‹œì‘.mp3"></audio>


<div id="subtitle"></div>

<script>
const scene1 = document.getElementById("scene1");
const scene2 = document.getElementById("scene2");
const subtitle = document.getElementById("subtitle");
const black = document.getElementById("blackScreen");
const shutdown = document.getElementById("shutdownScreen");
const video = document.getElementById("endingVideo");
const shutdownSound = document.getElementById("shutdownSound");

let step = 0;
let extraIndex = 0;

const extraSubtitles = [
  "ë„¤ ì—„ë§ˆ, ì£„ì†¡í•´ìš”",
  "í˜¹ì‹œë‚˜ ëˆ„êµ°ê°€ê°€ ì´ ì»´í“¨í„°ë¥¼ ì‚°ë‹¤ê³  í•œë‹¤ë©´",
  "ì ˆëŒ€ ì»´í“¨í„°ë§Œ ë°”ë¼ë³´ì§€ ë§ë¼ê³  í•´ì£¼ì„¸ìš”",
  "ì´ìƒí˜„ìƒì´ ìˆë‹¤ë©´, ë°”ë¡œ ì»´í“¨í„° ì•ì—ì„œ ë›°ì³ë‚˜ì˜¤ë¼ê³  í•´ì£¼ì„¸ìš”"
];

function showSubtitle(text) {
  subtitle.innerHTML = `${text} <span class="next-indicator">ë‹¤ìŒ â–¶</span>`;
  subtitle.style.display = "block";
}

setTimeout(() => showSubtitle("ì´ì œ ë‹¤ ëì´êµ¬ë‚˜.."), 1000);

subtitle.addEventListener("click", () => {

  if (step === 0) {
    step = 1;
    subtitle.style.display = "none";
    scene1.classList.remove("visible");
    scene2.classList.add("visible");

    setTimeout(() => {

  // ğŸ”¥ scene2 + ì•„ì´ì½˜ ì™„ì „ ì œê±° (ë‹¤ì‹œ ì•ˆ ë‚˜ì˜´)
  scene2.style.display = "none";
  document.querySelectorAll(".icon").forEach(i => i.style.display = "none");

  shutdown.style.display = "block";
  requestAnimationFrame(() => shutdown.style.opacity = 1);
  shutdownSound.currentTime = 0;
shutdownSound.play();


  // ì¢…ë£Œì¤‘ í™”ë©´ 2ì´ˆ
  setTimeout(() => {
    shutdown.style.opacity = 0;

    setTimeout(() => {
      shutdown.style.display = "none";
      black.style.display = "block";
      black.style.opacity = 1;
      showSubtitle("ë…¸ì•„, ì •ë§ ì»´í“¨í„°ë¥¼ íŒ” ìƒê°ì´ë‹ˆ?");
    }, 3500);

  }, 3500);

}, 3500);


    return;
  }

  if (step === 1) {
    if (extraIndex < extraSubtitles.length) {
      showSubtitle(extraSubtitles[extraIndex++]);
      return;
    }

    subtitle.style.display = "none";
    scene2.classList.remove("visible");
    document.querySelectorAll(".icon").forEach(i => i.style.display = "none");

    setTimeout(() => {
      black.style.opacity = 0;

      setTimeout(() => {
        black.style.opacity = 1;

        setTimeout(() => {
          const bootGif = document.getElementById("windowsBoot");
          const bootSound = document.getElementById("windowsSound");

          bootGif.style.display = "block";
          bootSound.play();

          setTimeout(() => {
            bootGif.style.display = "none";

            video.pause();
            video.currentTime = 0;
            video.load();
            video.style.opacity = 1;
            video.play();

            setTimeout(() => {
              black.style.opacity = 0;
              setTimeout(() => black.style.display = "none", 1000);
            }, 100);

          }, 3500);

        }, 2500); // ğŸ”¥ ê²€ì • í™”ë©´ ëŒ€ê¸° ì¤„ì„
      }, 800);
    }, 800);
  }
});
</script>

</body>
</html>






