<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />

  <!-- ğŸ“± ëª¨ë°”ì¼ í™•ëŒ€ ë°©ì§€ + ê°€ë¡œëª¨ë“œ ê³ ì • ì•ˆë‚´ -->
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"/>

  <title>Noah Computer After</title>
  <link href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2107@1.0/DungGeunMo.css" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      width: 100vw;
      height: 100vh;
      background: black;
      overflow: hidden;
    }

    /* ğŸ“± ì„¸ë¡œ ëª¨ë“œì¼ ë•Œ ì•ˆë‚´ */
    @media screen and (orientation: portrait) {
      body::before {
        content: "ğŸ“± ì´ ìŠ¤í…Œì´ì§€ëŠ” ê°€ë¡œ ëª¨ë“œì—ì„œë§Œ í”Œë ˆì´í•  ìˆ˜ ìˆì–´ìš”!";
        position: fixed;
        inset: 0;
        background: #000;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        font-family: 'DungGeunMo';
        font-size: 3vh;
        z-index: 999999999;
      }
    }

    /* ğŸ® ê³ ì • ë¹„ìœ¨ ê²Œì„ ìº”ë²„ìŠ¤ */
    .game-container {
      width: 100vw;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #000;
    }

    .game-area {
      position: relative;
      width: calc(100vh * (16 / 9));
      height: 100vh;
      max-width: 100vw;
      max-height: calc(100vw * (9 / 16));
      overflow: hidden;
      background: #000;
      image-rendering: pixelated;
    }

    /* ===== ë°°ê²½ ===== */
    .background {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      top: 0;
      left: 0;
      z-index: 1;
      transition: opacity 1.5s ease;
      image-rendering: pixelated;
    }

    /* ===== ì•„ì´ì½˜ ===== */
    .icon {
      position: absolute;
      width: 7%;
      image-rendering: pixelated;
      transition: transform 0.2s ease, filter 0.2s ease;
      filter: drop-shadow(-0.4vw -0.4vh 0 #131313);
      cursor: pointer;
      z-index: 5;
    }
    .icon:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 0 1vw rgba(255,255,255,0.9));
    }

    .internet { top: 7%; left: 6%; }
    .mail { top: 20%; left: 6%; }
    .folder { top: 33%; left: 6%; }
    .trash { top: 46%; left: 6%; }
    .game-icon { top: 59%; left: 5%; width: 9%; }
    .music-icon { top: 73%; left: 6%; }

    /* ===== ëˆˆ ===== */
    .eye-wrapper {
      position: absolute;
      top: 0%;
      left: 0;
      width: 100%;
      pointer-events: none;
      z-index: 3;
    }

    .eye {
      width: 100%;
      height: auto;
      transition: transform 0.05s linear;
      image-rendering: pixelated;
    }

    /* ===== ì¸ì¦ íŒì—… ===== */
    #gamePopup {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50%;
      z-index: 20;
      display: none;
      background: black;
      border: 0.5vh solid #000;
      border-radius: 0vh;
      image-rendering: pixelated;
    }

    #gamePopup img {
      width: 100%;
      height: auto;
      display: block;
    }

    #verifyBtn {
      width: 100%;
      font-family: 'DungGeunMo';
      font-size: 2.2vh;
      color: #fff;
      background: #b80000;
      border: 0.3vh solid #5a0000;
      border-top-color: #ff4d4d;
      border-left-color: #ff4d4d;
      box-shadow: inset -0.4vh -0.4vh 0 #7a0000, inset 0.4vh 0.4vh 0 #ff7a7a;
      padding: 1.5vh 0;
      cursor: pointer;
      transition: all 0.15s ease;
      image-rendering: pixelated;
    }

    #verifyBtn:hover {
      background: #ff0000;
      box-shadow: inset -0.2vh -0.2vh 0 #7a0000, inset 0.2vh 0.2vh 0 #ffb3b3;
      transform: scale(1.03);
    }

    /* ===== ìë§‰ ë°•ìŠ¤ ===== */
#subtitle {
  position: absolute;
  bottom: 5%;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'DungGeunMo', sans-serif;
  color: white;
  background: rgba(0, 0, 0, 0.6);
  border: 2px solid white;
  border-radius: 10px;
  padding: 1vh 2vw;
  font-size: 2.2vh;
  text-align: center;
  z-index: 999;
  display: none;
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ë‹¤ìŒ â–¶ í‘œì‹œ */
.next-indicator {
  font-size: 1.8vh;
  color: #ffcc00;
  margin-left: 1vw;
  animation: blink 1s infinite alternate;
}

@keyframes blink {
  from { opacity: 0.3; }
  to { opacity: 1; }
}

  </style>
</head>

<body>

<div class="game-container">
  <div class="game-area" id="gameArea">

    <!-- ===== ë°°ê²½ ì¶”ê°€ (âœ¨ ê°€ì¥ ì¤‘ìš”) ===== -->
    <img class="background" src="./ë…¸ì•„ ë”ëŸ¬ì›€ 1.gif" />
    <audio id="nextSound" src="./ë‹¤ìŒ í´ë¦­.mp3" preload="auto"></audio>
    <audio id="bgPeace" src="./ë°°ê²½ìŒ.mp3" preload="auto" loop></audio>
    <audio id="zipSound" src="./ì§€í¼.mp3" preload="auto"></audio>
    <!-- ===== ì•„ì´ì½˜ ì „ì²´ ì¶”ê°€ ===== -->
    <img class="icon internet" src="./ì¸í„°ë„· ë¡œê³ .png">
    <img class="icon mail" src="./ë©”ì„¸ì§€ ì•„ì´ì½˜.png">
    <img class="icon folder" src="./í´ë” ì•„ì´ì½˜.png">
    <img class="icon trash" src="./ì“°ë ˆê¸°í†µ.png">
    <img class="icon game-icon" src="./ë¶ˆë²•ê²Œì„ ì•„ì´ì½˜.png">
    <img class="icon music-icon" src="./ìŒì•…ì•„ì´ì½˜.png">

    <!-- ===== ëˆˆì•Œ ì¶”ê°€ (âœ¨ í•„ìˆ˜) ===== -->
    <div class="eye-wrapper" id="eyeWrapper">
      <img class="eye" id="eye" src="./ëˆˆì•Œ.png">
    </div>

    <!-- ===== ìë§‰ ë°•ìŠ¤ ===== -->
    <div id="subtitle"></div>

    <!-- ===== ì¸ì¦ íŒì—… ===== -->
    <div id="gamePopup">
      <img src="./ê²Œì„ì°½-ì™„ë£Œ.png" />
      <button id="verifyBtn">ì¸ì¦í•˜ê¸°</button>
    </div>

  </div>
</div>


<script>
// ===== ì›€ì§ì´ëŠ” ëˆˆ =====
    const eye = document.getElementById("eye");
    const eyeWrapper = document.getElementById("eyeWrapper");
    function updateEyePosition(e) {
      const rect = eyeWrapper.getBoundingClientRect();
      const cX = rect.left + rect.width / 2;
      const cY = rect.top + rect.height / 2;
      const dx = e.clientX - cX;
      const dy = e.clientY - cY;
      const max = rect.width * 0.005;
      const mx = Math.max(Math.min(dx / 20, max), -max);
      const my = Math.max(Math.min(dy / 20, max), -max);
      eye.style.transform = `translate(${mx}px, ${my}px)`;
    }
    window.addEventListener("mousemove", updateEyePosition);
    window.addEventListener("resize", () => eye.style.transform = "translate(0, 0)");



/* === ë°°ê²½ ë³€ê²½ === */
const background = document.querySelector(".background");
const subtitle = document.getElementById("subtitle");
const nextSound = document.getElementById("nextSound");
const bgPeace = document.getElementById("bgPeace");

// ë°°ê²½ìŒ ì´ˆê¸° ì„¤ì •
bgPeace.volume = 0.5;

// ìë§‰ í‘œì‹œ í•¨ìˆ˜
function showSubtitle(text, withNext = true) {
  subtitle.innerHTML = withNext
    ? `${text}<span class="next-indicator">ë‹¤ìŒ â–¶</span>`
    : text;

  subtitle.style.display = "block";
}

// ìë§‰ ìˆ¨ê¸°ê¸°
function hideSubtitle() {
  subtitle.style.display = "none";
}


function showSubtitle(text, next = true) {
  subtitle.innerHTML = next
    ? `${text}<span style="color:#ffcc00;margin-left:1vw;animation:blinkText 1s infinite alternate;">ë‹¤ìŒ â–¶</span>`
    : text;
  subtitle.style.display = "block";
}


function hideSubtitle() {
  subtitle.style.display = "none";
}

background.src = "./ë…¸ì•„ ë§ê°€ì§ 2.gif";
showSubtitle("ê¸´ì¥ë¼ ì£½ëŠ”ì¤„ ì•Œì•˜ë„¤..");

let step = 0;

subtitle.addEventListener("click", () => {
   /* ğŸ”Š ë‹¤ìŒ ë²„íŠ¼ ì‚¬ìš´ë“œ */
  nextSound.currentTime = 0;
  nextSound.play().catch(()=>{});
  if (step === 0) {
    hideSubtitle();

    const nextBg = document.createElement("img");
    nextBg.className = "background";
    nextBg.src = "./ë…¸ì•„ ë§ê°€ì§ 3.gif";
    nextBg.style.position = "absolute";
    nextBg.style.top = "0";
    nextBg.style.left = "0";
    nextBg.style.width = "100%";
    nextBg.style.height = "100%";
    nextBg.style.opacity = "0";
    nextBg.style.transition = "opacity 1.5s ease-in-out";
    nextBg.style.zIndex = "2";

    document.querySelector(".game-area").appendChild(nextBg);

    setTimeout(() => nextBg.style.opacity = "1", 100);
    setTimeout(() => background.style.opacity = "0", 300);

    setTimeout(() => {
      showSubtitle("ê·¸ëŸ¼ ì´ì œ ë‹¤ì‹œ ì¸ì¦ì„ í•´ë³¼ê¹Œ?");
      step = 1;
    }, 1700);
  }

  else if (step === 1) {
    subtitle.innerHTML = `
      ì£¼ë¯¼ë“±ë¡ì¦ë§Œ ì°¾ìœ¼ë©´ ë¼
      <span id="openWallet" style="color:#ffcc00;margin-left:1vw;animation:blinkText 1s infinite alternate;cursor:pointer;">
        ì§€ê°‘ ì—´ê¸°
      </span>`;
    step = 2;

    document.getElementById("openWallet").addEventListener("click", openWalletSequence);
  }
});

/* === ì§€ê°‘ ì—´ê¸° === */
function openWalletSequence() {
  hideSubtitle();

  const overlay = document.createElement("div");
  overlay.style = `
    position:absolute;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.8);display:flex;justify-content:center;align-items:center;
    z-index:30;opacity:0;transition:opacity .7s ease;
  `;
  document.querySelector(".game-area").appendChild(overlay);

  const wallet = document.createElement("img");
  wallet.src = "./ì§€ê°‘ 1.png";
  wallet.style = `
    width:50%;opacity:0;image-rendering:pixelated;
    transition:opacity .4s ease,transform .2s ease;cursor:pointer;
  `;
  overlay.appendChild(wallet);

  setTimeout(() => {
    overlay.style.opacity = "1";
    wallet.style.opacity = "1";
  }, 100);

  wallet.addEventListener("mouseenter", () => {
    wallet.style.transform = "scale(1.03)";
    wallet.style.filter = "drop-shadow(0 0 1vw rgba(255,255,255,0.7))";
  });
  wallet.addEventListener("mouseleave", () => {
    wallet.style.transform = "scale(1)";
    wallet.style.filter = "none";
  });

  wallet.addEventListener("click", function openOnce() {
     // ğŸ”Š ì§€í¼ ì†Œë¦¬
  zipSound.currentTime = 0;
  zipSound.play().catch(()=>{});
    wallet.style.opacity = "0";
    setTimeout(() => {
      wallet.src = "./ì§€ê°‘ 2.png";
      wallet.style.opacity = "1";
    }, 300);

    wallet.removeEventListener("click", openOnce);

    wallet.addEventListener("click", () => revealIDCard(overlay));
  });
}

/* === ì‹ ë¶„ì¦ === */
function revealIDCard(overlay) {

  const idCard = document.createElement("img");
  idCard.src = "./ì‹ ë¶„ì¦.png";
  idCard.style = `
    position:absolute;width:55%;top:50%;left:50%;
    transform:translate(-50%,-50%) scale(0.6);
    opacity:0;transition:opacity 1s ease,transform 1s ease;
    filter:drop-shadow(0 0 1.2vw rgba(255,255,255,0.8));
    image-rendering:pixelated;z-index:32;
  `;
  overlay.appendChild(idCard);

  setTimeout(() => {
    idCard.style.opacity = "1";
    idCard.style.transform = "translate(-50%,-50%) scale(1)";
  }, 200);

  setTimeout(() => showVerifyButton(overlay), 1200);
}

/* === ì¸ì¦í•˜ëŸ¬ ê°€ê¸° ë²„íŠ¼ ìƒì„± === */
function showVerifyButton(overlay) {
  const btn = document.createElement("button");
  btn.innerText = "ì¸ì¦í•˜ëŸ¬ ê°€ê¸°";

  btn.style = `
    position:absolute;top:73%;left:50%;transform:translateX(-50%);
    font-family:'DungGeunMo';font-size:2.2vh;color:#fff;
    background:#b80000;border:0.3vh solid #5a0000;
    border-top-color:#ff4d4d;border-left-color:#ff4d4d;
    box-shadow:inset -0.3vh -0.3vh 0 #7a0000,inset 0.3vh 0.3vh 0 #ff6666;
    padding:1.3vh 3vw;cursor:pointer;opacity:0;z-index:33;
    transition:opacity .6s ease,transform .2s ease;
    image-rendering:pixelated;
  `;
  overlay.appendChild(btn);

  setTimeout(() => btn.style.opacity = "1", 50);

  btn.addEventListener("mouseenter", () => {
    btn.style.transform = "translateX(-50%) scale(1.05)";
    btn.style.background = "#ff0000";
  });

  btn.addEventListener("mouseleave", () => {
    btn.style.transform = "translateX(-50%) scale(1)";
    btn.style.background = "#b80000";
  });

  btn.addEventListener("click", () => {
    nextSound.currentTime = 0;
    nextSound.play().catch(()=>{});

    overlay.remove();
    document.getElementById("gamePopup").style.display = "block";
  });
}

/* === BGM === */
const musicIcon = document.querySelector(".music-icon");
const bgm = new Audio("./ccbd0760-d720-4ca1-974a-c02f098588c5.mp3");
let bgmPlaying = false;
musicIcon.addEventListener("click", () => {
  !bgmPlaying ? bgm.play() : bgm.pause();
  bgmPlaying = !bgmPlaying;
});

/* === ê²Œì„ ì•„ì´ì½˜ â†’ ì¸ì¦ì°½ === */
document.querySelector(".game-icon").addEventListener("click", () => {
  document.getElementById("gamePopup").style.display = "block";
});

/* === ì¸ì¦í•˜ê¸° ë²„íŠ¼ === */
document.getElementById("verifyBtn").addEventListener("click", () => {
  nextSound.currentTime = 0;
nextSound.play().catch(()=>{});

  window.location.href = "pacman.html";
});
/* === ì „ì—­ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ë°°ê²½ìŒ í—ˆìš© === */
document.addEventListener("click", () => {
  
  bgPeace.play().catch(()=>{});
}, { once: true });

</script>

</body>
</html>





